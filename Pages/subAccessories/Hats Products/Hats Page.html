<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Men's Day</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="Hats Page.css" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"></script>
  </head>
    <div class="top-bar d-flex justify-content-center align-items-center">
      <p class="m-0">
        Get early access on launches and offers.
        <a href="#">Sign Up For Texts →</a>
      </p>
    </div>

    <div class="main-header text-center my-3">
      <h1>Men’s Day</h1>
    </div>

        <nav class="navbar navbar-expand-lg">
          <div class="container d-flex justify-content-between align-items-center">
            <!-- Left: Menu -->
            <div class="d-flex align-items-center gap-4">
              <a class="nav-link active" href="#">Home</a>
              <a class="nav-link" href="#">About</a>
              <a class="nav-link" href="#">Stories</a>
            </div>
    
            <div class="d-flex align-items-center gap-4">
              <a href="#">
                <img src="https://cdn-icons-png.flaticon.com/512/54/54481.png" width="24" alt="Search"/>
              </a>
              <a href="#">
                <img src="https://cdn-icons-png.flaticon.com/512/1077/1077063.png" width="24" alt="Profile"/>
              </a>
              <a href="#" id="cartIcon">
                <img src="https://cdn-icons-png.flaticon.com/512/263/263142.png" width="24" alt="Cart"/>
              </a>
            </div>
          </div>
        </nav>

    <!-- TODO: link product details page
         TODO: link tops featured pages in other pages navbar -->
    <div class="category-bar">
      <ul class="nav justify-content-center">
        <li class="nav-item">
          <a class="nav-link" href="/Pages/subTops/Tops Sub-Categories.html" style="text-decoration: underline;">Tops</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/Pages/subBottoms/Bottoms Sub-Categories.html">Bottoms</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/Pages/subOutwear/Outerwear Sub-Categories.html">Outerwear</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/Pages/subFootwear/Footwear Sub-Categories.html">Footwear</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/Pages/subAccessories/Accessories Sub-Categories.html">Accessories</a>
        </li>
        <li class="nav-item">
          <a class="nav-link text-danger" href="#">Sale</a>
        </li>
      </ul>
    </div>

    <div class="content">
      <div class="header d-flex flex-column">
        <h6>Products</h6>
        <h2 style="font-weight: bold;">Hats</h2>
        <h4>Featured</h4>
      </div>

      <div class="products">
        <div class="row">
          <div class="col-md-4">
            <div class="product-box"
              data-name="Wool Cardigan"
              data-color="Black"
              data-image="Hats1.jpg"
              data-price="188">
              <div class="image-container">
                <img src="Hats1.jpg" alt="Wool Cardigan" class="img-fluid" />
              </div>
              <div class="product-details">
                <div class="d-flex justify-content-between align-items-center" style="display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <h6>Wool Cardigan</h6>
                    <p class="text-muted">Black</p>
                  </div>
                  <h6>$188</h6>
                </div>
                <div class="button-group mt-3">
                  <button class="btn btn-add-to-cart btn-sm w-100 mb-2">Add to Cart</button>
                  <button class="btn btn-buy-now btn-sm w-100">Buy Now</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="product-box"
              data-name="Longsleeve Turtleneck"
              data-color="Black"
              data-image="Hats2.jpg"
              data-price="50">
              <div class="image-container">
                <img src="Hats2.jpg" alt="Longsleeve Turtleneck" class="img-fluid" />
              </div>
              <div class="product-details">
                <div class="d-flex justify-content-between align-items-center" style="display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <h6>Longsleeve Turtleneck</h6>
                    <p class="text-muted">Black</p>
                  </div>
                  <h6>$50</h6>
                </div>
                <div class="button-group mt-3">
                  <button class="btn btn-add-to-cart btn-sm w-100 mb-2">Add to Cart</button>
                  <button class="btn btn-buy-now btn-sm w-100">Buy Now</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="product-box"
              data-name="Striped Sweater"
              data-color="Dark Blue"
              data-image="Hats3.jpg"
              data-price="113">
              <div class="image-container">
                <img src="Hats3.jpg" alt="Striped Sweater" class="img-fluid" />
              </div>
              <div class="product-details">
                <div class="d-flex justify-content-between align-items-center" style="display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <h6>Striped Sweater</h6>
                    <p class="text-muted">Dark Blue</p>
                  </div>
                  <h6>$113</h6>
                </div>
                <div class="button-group mt-3">
                  <button class="btn btn-add-to-cart btn-sm w-100 mb-2">Add to Cart</button>
                  <button class="btn btn-buy-now btn-sm w-100">Buy Now</button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- Second row -->
        <div class="row mt-4">
          <div class="col-md-4">
            <div class="product-box"
              data-name="Embroidered Hoodie"
              data-color="Cream"
              data-image="Hats4.jpg"
              data-price="75">
              <div class="image-container">
                <img src="Hats4.jpg" alt="Embroidered Hoodie" class="img-fluid" />
              </div>
              <div class="product-details">
                <div class="d-flex justify-content-between align-items-center" style="display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <h6>Embroidered Hoodie</h6>
                    <p class="text-muted">Cream</p>
                  </div>
                  <h6>$75</h6>
                </div>
                <div class="button-group mt-3">
                  <button class="btn btn-add-to-cart btn-sm w-100 mb-2">Add to Cart</button>
                  <button class="btn btn-buy-now btn-sm w-100">Buy Now</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="product-box"
              data-name="Chambray Shirt"
              data-color="Blue"
              data-image="Hats5.jpg"
              data-price="300">
              <div class="image-container">
                <img src="Hats5.jpg" alt="Chambray Shirt" class="img-fluid" />
              </div>
              <div class="product-details">
                <div class="d-flex justify-content-between align-items-center" style="display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <h6>Chambray Shirt</h6>
                    <p class="text-muted">Blue</p>
                  </div>
                  <h6>$300</h6>
                </div>
                <div class="button-group mt-3">
                  <button class="btn btn-add-to-cart btn-sm w-100 mb-2">Add to Cart</button>
                  <button class="btn btn-buy-now btn-sm w-100">Buy Now</button>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="product-box"
              data-name="Cotton Short Sleeve T-Shirt"
              data-color="Black"
              data-image="Hats6.jpg"
              data-price="336">
              <div class="image-container">
                <img src="Hats6.jpg" alt="Cotton Short Sleeve T-Shirt" class="img-fluid" />
              </div>
              <div class="product-details">
                <div class="d-flex justify-content-between align-items-center" style="display:flex;justify-content:space-between;align-items:center;">
                  <div>
                    <h6>Cotton Short Sleeve T-Shirt</h6>
                    <p class="text-muted">Black</p>
                  </div>
                  <h6>$336</h6>
                </div>
                <div class="button-group mt-3">
                  <button class="btn btn-add-to-cart btn-sm w-100 mb-2">Add to Cart</button>
                  <button class="btn btn-buy-now btn-sm w-100">Buy Now</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    
      <!-- Cart Modal -->
      <div class="cart-modal-overlay" id="cartModalOverlay">
        <aside class="cart-modal" id="cartModal" tabindex="-1" aria-modal="true">
          <div class="cart-modal-header">
            <div class="cart-modal-title">Your Cart</div>
            <button class="cart-modal-close" id="cartModalClose" aria-label="Close">&times;</button>
          </div>
          <div class="cart-items-list" id="cartItemsList">
            <!-- Items will be injected here -->
          </div>
          <div class="cart-modal-footer">
            <div class="cart-subtotal-row">
              <span id="cartSubtotalLabel">Subtotal (0 items)</span>
              <span id="cartSubtotalAmount">$0</span>
            </div>
            <button class="cart-checkout-btn">CONTINUE TO CHECKOUT</button>
            <div class="cart-footer-note">Psst, get it now before it sells out.</div>
          </div>
        </aside>
      </div>
    
    </div>

<footer class="footer py-5">
    <div class="container">
      <div class="row justify-content-between align-items-start">
        <!-- Account -->
        <div class="col-12 col-sm-6 col-md-3 col-lg-2 mb-4 mb-lg-0">
          <div class="footer-title">Acount</div>
          <a href="#">Log In</a>
          <a href="#">Sign Up</a>
          <a href="#">Redeem a Gift Card</a>
        </div>
        <!-- Company -->
        <div class="col-12 col-sm-6 col-md-3 col-lg-2 mb-4 mb-lg-0">
          <div class="footer-title">Company</div>
          <a href="#">About</a>
          <a href="#">Environmental Initiatives</a>
          <a href="#">Factories</a>
          <a href="#">DEI</a>
          <a href="#">Careers</a>
          <a href="#">International</a>
          <a href="#">Accessibility</a>
        </div>
        <!-- Get Help -->
        <div class="col-12 col-sm-6 col-md-3 col-lg-2 mb-4 mb-lg-0">
          <div class="footer-title">Get Help</div>
          <a href="#">Help Center</a>
          <a href="#">Return Policy</a>
          <a href="#">Shipping Info</a>
          <a href="#">Bulk Orders</a>
        </div>
        <!-- Connect -->
        <div class="col-12 col-sm-6 col-md-3 col-lg-2 mb-4 mb-lg-0">
          <div class="footer-title">Connect</div>
          <a href="#">Facebook</a>
          <a href="#">Instagram</a>
          <a href="#">Twitter</a>
          <a href="#">Affiliates</a>
          <a href="#">Out Stores</a>
        </div>
        <!-- Newsletter -->
        <div class="col-12 col-lg-4">
          <form>
            <div class="input-group mt-2 mt-lg-0">
              <input type="email" class="form-control" placeholder="Email Address" aria-label="Email">
              <button class="input-group-text" type="submit" aria-label="Subscribe">
                &#8594;
              </button>
            </div>
          </form>
        </div>
      </div>
      <!-- Bottom links -->
      <div class="footer-bottom mt-4">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
        <a href="#">Do Not Sell or Share My Personal Information</a>
        <a href="#">CS Supply Chain Transparency</a>
        <a href="#">Vendor Code of Conduct</a>
        <a href="#">Sitemap Pages</a>
        <a href="#">Sitemap Products</a>
      </div>
      <div class="footer-copyright">
        &copy; 2023 All Rights Reserved
      </div>
    </div>
  </footer>


  <!-- JavaScript -->
  <script>
    // ---- Cart State ----
    const cart = [];

    // ---- DOM Elements ----
    const cartIcon = document.getElementById('cartIcon');
    const cartModalOverlay = document.getElementById('cartModalOverlay');
    const cartModalClose = document.getElementById('cartModalClose');
    const cartItemsList = document.getElementById('cartItemsList');
    const cartCount = document.getElementById('cartCount');
    const cartSubtotalAmount = document.getElementById('cartSubtotalAmount');
    const cartSubtotalLabel = document.getElementById('cartSubtotalLabel');
    const checkoutBtn = document.querySelector('.cart-checkout-btn');

    // ---- Modal Open/Close ----
    cartIcon.addEventListener('click', function(e) {
      e.preventDefault();
      cartModalOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });
    function closeCartModal() {
      cartModalOverlay.classList.remove('active');
      document.body.style.overflow = '';
    }
    cartModalClose.addEventListener('click', closeCartModal);
    cartModalOverlay.addEventListener('click', function(e){
      if(e.target === cartModalOverlay) closeCartModal();
    });
    document.addEventListener('keydown', function(e) {
      if(e.key === "Escape") closeCartModal();
    });

    // ---- Add to Cart Logic ----
    document.body.addEventListener('click', function(e) {
      const btn = e.target.closest('.btn-add-to-cart');
      if (!btn) return;
      e.preventDefault();

      let productBox = btn.closest('.product-box');
      if (!productBox) return;

      let name = productBox.getAttribute('data-name');
      let color = productBox.getAttribute('data-color');
      let image = productBox.getAttribute('data-image');
      let price = productBox.getAttribute('data-price');

      if (!name) name = productBox.querySelector('h6')?.textContent.trim() || '';
      if (!color) color = productBox.querySelector('.text-muted')?.textContent.trim() || '';
      if (!image) image = productBox.querySelector('img')?.getAttribute('src') || '';
      if (!price) {
        let priceText = productBox.querySelector('.d-flex h6:last-child')?.textContent.replace(/[^0-9.]+/g, '');
        price = priceText || '0';
      }

      price = parseFloat(price);

      let item = cart.find(i => i.name === name && i.color === color);
      if(item) {
        item.qty++;
      } else {
        cart.push({
          name,
          color,
          image,
          price,
          qty: 1
        });
      }
      updateCartUI();
      cartModalOverlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    // ---- Cart UI Update ----
    function updateCartUI() {
      cartItemsList.innerHTML = '';
      let subtotal = 0, qtyTotal = 0;
      cart.forEach((item, idx) => {
        const lineTotal = item.price * item.qty;
        subtotal += lineTotal;
        qtyTotal += item.qty;
        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <img class="cart-item-img" src="${item.image}" alt="${item.name}" />
          <div class="cart-item-details">
            <div class="cart-item-title">${item.name}</div>
            <div class="cart-item-meta">${item.color ? item.color : ''}</div>
<div class="cart-item-pricing">
  <span class="cart-item-linetotal">$${(item.price * item.qty).toFixed(2)}</span>
</div>
            <div class="cart-item-actions">
              <button class="cart-qty-btn" aria-label="Decrease quantity" data-idx="${idx}" data-action="decrease">-</button>
              <span class="cart-qty-value">${item.qty}</span>
              <button class="cart-qty-btn" aria-label="Increase quantity" data-idx="${idx}" data-action="increase">+</button>
              <button class="cart-item-remove" aria-label="Remove item" data-idx="${idx}">
                <svg height="16" width="16" viewBox="0 0 16 16" fill="none">
                  <path d="M6.5 6.5L9.5 9.5M9.5 6.5L6.5 9.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/>
                  <rect x="3.5" y="3.5" width="9" height="9" rx="2" stroke="currentColor" stroke-width="1.2"/>
                </svg>
              </button>
            </div>
          </div>
        `;
        cartItemsList.appendChild(div);
      });
      cartSubtotalAmount.textContent = '$' + subtotal.toFixed(2);
      cartSubtotalLabel.textContent = `Subtotal (${qtyTotal} item${qtyTotal!==1?'s':''})`;
      cartCount.textContent = qtyTotal;

      if (cart.length === 0) {
        cartItemsList.innerHTML = '<div style="padding:32px 0 12px 0;text-align:center;color:#888;">Your cart is empty.</div>';
        cartSubtotalAmount.textContent = '$0';
        cartSubtotalLabel.textContent = 'Subtotal (0 items)';
        cartCount.textContent = '0';
      }
    }

    // ---- Cart Item Actions (Qty/Remove) ----
    cartItemsList.addEventListener('click', function(e) {
      const btn = e.target.closest('button');
      if (!btn) return;
      const idx = parseInt(btn.getAttribute('data-idx'));
      if (btn.classList.contains('cart-qty-btn')) {
        const action = btn.getAttribute('data-action');
        if (action === 'increase') {
          cart[idx].qty++;
        } else if (action === 'decrease') {
          cart[idx].qty--;
          if (cart[idx].qty <= 0) cart.splice(idx,1);
        }
        updateCartUI();
      }
      if (btn.classList.contains('cart-item-remove')) {
        cart.splice(idx, 1);
        updateCartUI();
      }
    });

    // ---- Initial UI ----
    updateCartUI();

    document.addEventListener('DOMContentLoaded', function() {
  const checkoutBtn = document.querySelector('.cart-checkout-btn');
  if (checkoutBtn) {
    checkoutBtn.addEventListener('click', function() {
      if(cart.length === 0) {
        alert("Your cart is already empty.");
        return;
      }
      cart.length = 0;
      updateCartUI();
      alert("Thank you for your purchase! Your cart has been cleared.");
      closeCartModal();
    });
  }
});
checkoutBtn.addEventListener('click', function() {
  if (cart.length === 0) {
    alert("Your cart is already empty.");
    return;
  }
  cart.length = 0;
  updateCartUI();
  alert("Thank you for your purchase! Your cart has been cleared.");
  closeCartModal();
});



  </script>
    
  </body>
</html>
